<head>
  <title>fantasybiathlon</title>
</head>

<body>

{{> topbar}}

{{#if currentUser}}
  {{> loggedinscreen}}
{{else}}
  {{> welcomescreen}}
{{/if}}

</body>

<template name="topbar">
  <nav class="top-bar">
  <ul class="title-area">
    <!-- Title Area -->
    <li class="name" style="width: 20em;">
      {{> dateForm}}
    </li>
    <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  </ul>

  <section class="top-bar-section">
    <!-- Left Nav Section -->
    <ul class="left">
      <li class="divider"></li>
      <li class="active" id="datefwd"><a href="#">Fwd</a></li>
      <li class="divider"></li>
      <li><a href="#" id="dateback">Back</a></li>
      <li class="divider"></li>
      {{#if currentUser.admin}}<li><a><em style="color: darkred;">ADMIN</em></a></li>{{/if}}
      <li class="has-dropdown"><a href="#">Main Item 3</a>

        <ul class="dropdown">
          <li class="has-dropdown"><a href="#">Dropdown Level 1a</a>

            <ul class="dropdown">
              <li><label>Dropdown Level 2 Label</label></li>
              <li><a href="#">Dropdown Level 2a</a></li>
              <li><a href="#">Dropdown Level 2b</a></li>
              <li class="has-dropdown"><a href="#">Dropdown Level 2c</a>

                <ul class="dropdown">
                  <li><label>Dropdown Level 3 Label</label></li>
                  <li><a href="#">Dropdown Level 3a</a></li>
                  <li><a href="#">Dropdown Level 3b</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Dropdown Level 3c</a></li>
                </ul>
              </li>
              <li><a href="#">Dropdown Level 2d</a></li>
              <li><a href="#">Dropdown Level 2e</a></li>
              <li><a href="#">Dropdown Level 2f</a></li>
            </ul>
          </li>
          <li><a href="#">Dropdown Level 1b</a></li>
          <li><a href="#">Dropdown Level 1c</a></li>
          <li class="divider"></li>
          <li><a href="#">Dropdown Level 1d</a></li>
          <li><a href="#">Dropdown Level 1e</a></li>
          <li><a href="#">Dropdown Level 1f</a></li>
          <li class="divider"></li>
          <li><a href="#">See all &rarr;</a></li>
        </ul>
      </li>
      <li class="divider"></li>
    </ul>

    <!-- Right Nav Section -->
    <ul class="right">
      <li class="divider hide-for-small"></li>
      <li class="has-dropdown"><a href="#">Main Item 4</a>

        <ul class="dropdown">
          <li><label>Dropdown Level 1 Label</label></li>
          <li class="has-dropdown"><a href="#" class="">Dropdown Level 1a</a>

            <ul class="dropdown">
              <li><a href="#">Dropdown Level 2a</a></li>
              <li><a href="#">Dropdown Level 2b</a></li>
              <li class="has-dropdown"><a href="#">Dropdown Level 2c</a>

                <ul class="dropdown">
                  <li><a href="#">Dropdown Level 3a</a></li>
                  <li><a href="#">Dropdown Level 3b</a></li>
                  <li><a href="#">Dropdown Level 3c</a></li>
                </ul>
              </li>
              <li><a href="#">Dropdown Level 2d</a></li>
              <li><a href="#">Dropdown Level 2e</a></li>
              <li><a href="#">Dropdown Level 2f</a></li>
            </ul>
          </li>
          <li><a href="#">Dropdown Level 1b</a></li>
          <li><a href="#">Dropdown Level 1c</a></li>
          <li class="divider"></li>
          <li><label>Dropdown Level 1 Label</label></li>
          <li><a href="#">Dropdown Level 1d</a></li>
          <li><a href="#">Dropdown Level 1e</a></li>
          <li><a href="#">Dropdown Level 1f</a></li>
          <li class="divider"></li>
          <li><a href="#">See all &rarr;</a></li>
        </ul>
      </li>
      <li class="divider"></li>
      <li class="has-form">
        <form>
          <div class="row collapse">
            <div class="small-8 columns">
              <input type="text">
            </div>
            <div class="small-4 columns">
              <a href="#" class="alert button">Search</a>
            </div>
          </div>
        </form>
      </li>
      <li class="divider show-for-small"></li>
      <li class="has-form">
        <a class="button" href="#" id="logout">Logout</a>
      </li>
    </ul>
  </section>
  </nav>
</template>

<template name="welcomescreen">
  <section class="row" id="welcome">
    <div class="large-12 columns">
      <h1>Welcome to Fantasy Biathlon</h1>
      {{loginButtons}}
    </div>
  </section>
</template>

<template name="loggedinscreen">
  <section id="teambar">
    <div class="row">
      {{> teamtitle}}
    </div>
  </section>
  <section id="athletes">
    <div class="row">
      <div class="twelve columns topbar">
	<div class="large-12 columns" id="teamdisplay">
	  <div>{{> team}}</div>
	</div>
      </div>
      <div class="twelve columns dropbar" id="teamdrop" style="display: none">
	<div class="large-12 columns">
	  <div class="large-3 columns">
	    {{> pricebox}}
	    {{> athleteform}}
	  </div>
	  <div class="large-9 columns panel" id="athletelist">
	    {{> athletelist}}
	  </div>
	</div>
      </div>
    </div>
  </section>
  <section class="row">
    <ul class="breadcrumbs">
      <li class="current"><a href="#">Calendar</a></li>
      <li><a href="#">Venue Map</a></li>
      <li class="unavailable"><a href="#">Weather</a></li>
    </ul>
    <div class="twelve columns">
	{{> nextrace}}
    </div>
  </section>
  <section class="row">
    {{> chartsection}}
  </section>

  {{> modalrender}}

  {{#if newuser}}{{> joyride}}{{/if}}

</template>

<template name="modalrender">
  <div id="modal" class="reveal-modal small" style="width: auto;">
    {{{renderdeets}}}
  </div>
</template>

<template name="teamtitle">
  <div class="large-8 columns">
    {{> teamname}}
  </div>
  <div class="large-3 large-offset-1 columns">
    <h3 class="subheader">POINTS:</h3>
    <h1 style="text-align: center; margin-top: -0.5em;"><a {{#if teamPoints}}id="pointslink"{{/if}}>{{teamPoints}}</a></h1>
  </div>
</template>

<template name="teamname">
    <h3 class="subheader">TEAM NAME:</h3>
    <div style="text-align: center; margin-top: -0.5em;">
      {{#if teamnameedit}}
      <div class="large-8 large-offset-2 centered columns">
	<h1><input type="text" value="{{team.Name}}" id="teamnameentry" style="text-align: center; padding: 0.2em; margin: -0.3em 0em 0em; height: 1.2em;"></h1>
      </div>
      {{else}}
      <h1 id="teamname" style="margin: -0.3em 0.1em 0em; display: inline-block">{{team.Name}}</h1>
      {{/if}}
    </div>
</template>

<template name="team">
  <div class="row" id="athleterow">
    {{#each athletes}}
       {{> athlete}}
    {{/each}}
  </div>
</template>    

<template name="athlete">
  <div class="large-3 columns">
    <ul class="pricing-table teammember">
      <li class="title athletepic" style="background-image:url('{{avatar}}'), url('{{flag}}');">
	{{#if ShortName}}<div class="cross" id="{{IBUId}}"{{#if cross}} style="display: block"{{/if}}>
	</div>{{/if}}
	{{#if ShortName}}<div class="pricelabel"><h2>{{Price}}</h2></div>{{/if}}
      </li>
      <li class="title athletename" style="height: 4em;">{{#if ShortName}}<div class="radius label large {{GenderLongLower}}">{{ShortName}}</div<{{else}}<br>{{/if}}</li>
      <li class="bullet-item">{{#if ShortName}}{{NatLong}}{{else}}</br>{{/if}}</li>
      <li class="bullet-item">{{#if ShortName}}{{pointtotal}} points{{else}}<br>{{/if}}</li>
    </ul>
  </div>
</template>

<template name="pricebox">
  <div class="row">
    <div class="large-12 columns">
      <div class="alert-box">
	Total Cost: <span class="{{pricetarget}}">{{teamprice}}</span> / 15.0
      </div>
    </div>
  </div>
</template>

<template name="athleteform">
  <form class="custom">
    <fieldset id="athletefields">
      <div class="row">
	<input type="text" placeholder="Name" id="namefilter">
      </div>
      <div class="row">
	<div class="large-6 columns" id="mfradiomaster">
	  <label for="mfradio" id="mfa"><input name="mfradio" type="radio" id="mfradio" style="display: none;" CHECKED><span class="custom radio checked" id="MW"></span>All</label>
	  <label for="mfradiom" id="mfb"><input name="mfradio" type="radio" id="mfradiom" style="display: none;"><span class="custom radio" id="M"></span>Male</label>
	  <label for="mfradiof" id="mfc"><input name="mfradio" type="radio" id="mfradiof" style="display: none;"><span class="custom radio" id="W"></span>Female</label>
	</div>
	<div class="large-6 columns">
	  <label for="natdropdown">Nation</label>
	  <select id="natdropdown" class="medium">
	    <option></option>
	    {{#each nations}}
	      <option>{{this}}</option>
	    {{/each}}
	  </select>
	</div>
      </div>
    </fieldset>
    <row>
      <div class="large-6 columns">
	<a href="#" id="resettransfers" class="small button">Reset</a>
      </div>
      <div class="large-6 columns">
	<a href="#" id="savetransfers" class="small button success">Save</a>
      </div>
    </row>
  </form>
</template>

<template name="athletelist">
  {{{athleteset}}}
</template>

<template name="map">
</template>

<template name="transfermodal">
  {{#if okay}}
  <h3>Confirm Changes?</h3>
  <p class="lead">You will have {{remtrans}} remaining.
    {{{transferlist}}}
  <a class="close-reveal-modal">&#215;</a>
  <a class="small success button" id="confirmtransferbutton">Confirm</a>
  {{else}}
  <h3>Too Many Changes!</h3>
  <p class="lead">Sorry, but you only have {{hastrans}} to use!<p>
  <p>You can reset your changes with the blue button.<p>
  <a class="close-reveal-modal">&#215;</a>
  {{/if}}
</template>

<template name="dateForm">
  <h1><a href="#">{{systemDate}} </a></h1>
</template>

<template name="nextrace">
  <div class="" style="text-align: center">
    <h5 class="subheader">{{{lastrace}}}</h5>
    <h5>{{{nextrace}}}</h5>
    <h5 class="subheader">{{{nextnextrace}}}</h5>
  </div>
</template>

<template name="resultslist">
  {{#if okay}}
  {{#each results}}
    {{#if this.Points}}<tr style="line-height: 1.5em; text-align: center;">{{> result}}</tr>{{/if}}
  {{/each}}
{{/if}}
</template>

<template name="result">
  <td>{{this.Name}}, <strong>{{this.Points}}</strong> pts in the {{racedeets}} <em>({{racetime}})</em></td>
</template>

<template name="chartsection">
    <div class="twelve columns">
      <div class="large-3 columns">
	<div class="content">
	  <ul class="side-nav" id="graphchoice">
	    <li class="active" id="progress"><a>Progress</a></li>
	    <li id="scorers"><a>Points Scorers</a></li>
	    <li class="divider"></li>
	    <li id="bestathletes"><a>Best Athletes</a></li>
	    <li id="popular"><a>Popular Athletes</a></li>
	  </ul>
	</div>
      </div>
      <div class="large-9 columns">
	{{> graphcanvas}}
      </div>
    </div>
</template>

<template name="graphcanvas">
  <canvas id="graphcanvas" width="600" height="250"></canvas>
</template>

<template name="joyride">
  <ol class="joyride-list" id="joyride" data-joyride>
    <li data-id="teamname" data-text="Next" data-options="tipLocation:'bottom'">
      <h4>Team Name</h4>
      <p>Change your team name by clicking here.</p>
    </li>
    <li data-id="athleterow" data-text="Next" data-options="tipLocation:'top'">
      <h4>Athletes</h4>
      <p>Add or change athletes by clicking on one of the avatars.</p>
    </li>
  </ol>
</template>
